{"designerVersion":"1.2.9","favorite":false,"id":"115e20c0-3948-4130-8d17-5a9a8c10784b","name":"ExampleVacationManagement","type":"page","lastUpdate":1457529523686,"rows":[[{"type":"container","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable","value":""}},"reference":"a5cdc273-f50d-4239-9a30-9b9b35cf422f","rows":[[{"type":"component","dimension":{"xs":2},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"srcType":{"type":"constant","value":"Asset"},"url":{"type":"constant"},"assetName":{"type":"constant","value":"logo.png"},"alt":{"type":"interpolation","value":"Logo"}},"reference":"d2b07fa8-6dc5-4345-8696-e5f509f0f750","id":"pbImage"},{"type":"component","dimension":{"xs":4},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Tahiti Vacation Management"},"level":{"type":"constant","value":"Level 1"},"alignment":{"type":"constant","value":"left"}},"reference":"c4b8f698-9ca5-4fce-add2-134c1175daeb","id":"pbTitle"},{"type":"component","dimension":{"xs":4},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"{{session.user_name}}"},"alignment":{"type":"constant","value":"left"}},"reference":"5c6435b4-22df-4d28-9c17-728fa46038ba","id":"pbText"}],[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Welcome to the Tahiti Vacation Management Tool. Here you can see how many days of vacation you have available, see the status of your vacation requests, and submit a new vacation request."},"alignment":{"type":"constant","value":"left"}},"reference":"8c1c905d-5524-423b-80bb-e85d873c3428","id":"pbText"}],[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"managerTeamInfo.isManager==false"},"text":{"type":"interpolation","value":"If you are a manager, you can see the vacation status for your team and review pending requests."},"alignment":{"type":"constant","value":"left"}},"reference":"e628edbc-0e8a-4d75-8a21-a5622d30607c","id":"pbText"}]]}],[{"type":"container","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable","value":""}},"reference":"94b54f6b-0527-4510-b43a-f7ba021d4cf9","rows":[[{"type":"component","dimension":{"xs":4},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"My vacation"},"level":{"type":"constant","value":"Level 2"},"alignment":{"type":"constant","value":"left"}},"reference":"f5892e1c-864e-48a9-8a12-a6ab0771e399","id":"pbTitle"}],[{"type":"component","dimension":{"xs":8},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"required":{"type":"constant","value":false},"minLength":{"type":"constant","value":""},"maxLength":{"type":"constant","value":""},"readOnly":{"type":"constant","value":true},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Vacation days available"},"labelPosition":{"type":"constant","value":"left"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation"},"value":{"type":"variable","value":"myVacationAvailable[0].daysAvailableCounter"},"type":{"type":"constant","value":"text"},"min":{"type":"constant"},"max":{"type":"constant"}},"reference":"a09b3f7b-5895-4ce4-aa37-e2ddb3c3e158","id":"pbInput"},{"type":"component","dimension":{"xs":4},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Create new vacation request"},"targetUrl":{"type":"expression","value":"urlStartCreateProcess"},"alignment":{"type":"constant","value":"left"},"buttonStyle":{"type":"constant","value":"primary"}},"reference":"6b31c345-a90a-4084-9106-958038ebe0f5","id":"pbLink"}],[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"headers":{"type":"constant","value":["Start date","Number of days","Return date","Status"]},"content":{"type":"expression","value":"myVacation"},"columnsKey":{"type":"constant","value":["startDate | date","numberOfDays","returnDate | date","status"]},"selectedRow":{"type":"variable","value":"selectedRow.original"}},"reference":"68cda67e-428b-414a-bba9-854a266307d3","id":"pbTable"}],[{"type":"container","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable","value":""}},"reference":"0402c177-9f83-40f4-986e-22fcedda33a4","rows":[[{"type":"component","dimension":{"xs":2},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!selectedRow.copy"},"text":{"type":"interpolation","value":"Selected request:"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"left"}},"reference":"88888cea-c9be-4551-8d29-001a6f24af3e","id":"pbTitle"},{"type":"component","dimension":{"xs":3},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!selectedRow.copy"},"readOnly":{"type":"constant","value":false},"required":{"type":"constant","value":false},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Start date"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation","value":"MM/dd/yyyy"},"value":{"type":"variable","value":"selectedRow.copy.startDate"},"dateFormat":{"type":"constant","value":"MM/dd/yyyy"}},"reference":"655f5e84-365c-432d-a502-b08a8db65dd1","id":"pbDatePicker"},{"type":"component","dimension":{"xs":3},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!selectedRow.copy"},"readOnly":{"type":"constant","value":false},"required":{"type":"constant","value":false},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Return date"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation","value":"MM/dd/yyyy"},"value":{"type":"variable","value":"selectedRow.copy.returnDate"},"dateFormat":{"type":"constant","value":"MM/dd/yyyy"}},"reference":"c2f22ea8-067a-41a4-993a-c795d85073f5","id":"pbDatePicker"},{"type":"component","dimension":{"xs":3},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!selectedRow.copy"},"required":{"type":"constant","value":false},"minLength":{"type":"constant","value":""},"maxLength":{"type":"constant","value":""},"readOnly":{"type":"constant","value":false},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Number of days"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation"},"value":{"type":"variable","value":"selectedRow.copy.numberOfDays"},"type":{"type":"constant","value":"number"},"min":{"type":"constant"},"max":{"type":"constant"}},"reference":"920f1c8e-a173-45dd-9199-a23a95ce0edd","id":"pbInput"}],[{"type":"component","dimension":{"xs":9},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!(selectedRow.copy && selectedRow.copy.status!==\"refused\")"},"text":{"type":"interpolation","value":"To cancel the selected vacation request, click <b>Cancel selected vacation</b>. If the request is already approved, a cancellation request will be sent to your manager."},"alignment":{"type":"constant","value":"left"}},"reference":"cde88b51-8e6e-4d9e-9997-17ee08ef570f","id":"pbText"},{"type":"component","dimension":{"xs":3},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!(selectedRow.copy && selectedRow.copy.status!==\"refused\")"},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Cancel selected vacation"},"alignment":{"type":"constant","value":"left"},"buttonStyle":{"type":"constant","value":"default"},"action":{"type":"constant","value":"POST"},"url":{"type":"interpolation","value":"{{urlStartCancelProcess}}"},"dataToSend":{"type":"expression","value":"{\"vacationRequestIdContract\": selectedRow.copy.persistenceId_string}"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation","value":"/bonita/apps/tahiti/index/"},"collectionToModify":{"type":"variable"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable"}},"reference":"fe6bb6a2-9f17-42c8-8284-7b6d3dfa7f49","id":"pbButton"}],[{"type":"component","dimension":{"xs":9},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"selectedRow.copy.status!==\"pending\""},"text":{"type":"interpolation","value":"To modify the selected vacation request, update the details in the Selected request line, and then click <b>Modify selected vacation</b>."},"alignment":{"type":"constant","value":"left"}},"reference":"73d6422a-67af-4bda-bddb-3393d70dff4e","id":"pbText"},{"type":"component","dimension":{"xs":3},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"selectedRow.copy.status!==\"pending\""},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Modify selected vacation"},"alignment":{"type":"constant","value":"left"},"buttonStyle":{"type":"constant","value":"default"},"action":{"type":"constant","value":"POST"},"url":{"type":"interpolation","value":"{{urlStartModifyProcess}}"},"dataToSend":{"type":"expression","value":"{\"vacationRequestIdContract\": selectedRow.copy.persistenceId_string, \"startDateContract\": selectedRow.copy.startDate, \"returnDateContract\": selectedRow.copy.returnDate,\"numberOfDaysContract\":selectedRow.copy.numberOfDays}"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation","value":"/bonita/apps/tahiti/index/"},"collectionToModify":{"type":"variable"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable"}},"reference":"ade9256c-1c87-4b46-95ec-93235d5789a1","id":"pbButton"}]]}]]}],[{"type":"container","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"managerTeamInfo.isManager==false"},"repeatedCollection":{"type":"variable","value":""}},"reference":"797d1ac4-f54b-4f1b-adcf-4bfb10e60d67","rows":[[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Team vacation"},"level":{"type":"constant","value":"Level 2"},"alignment":{"type":"constant","value":"left"}},"reference":"e11a6780-9d5e-41cc-b9bd-8da41766de75","id":"pbTitle"}],[{"type":"tabsContainer","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"98652718-621f-4189-b156-f4137b708dde","tabs":[{"container":{"type":"container","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"521b2d03-7eff-4991-8149-d40153a8eaf0","rows":[[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"headers":{"type":"constant","value":["First name","Last name","Days available"]},"content":{"type":"expression","value":"managerTeamInfo.employeesVacationAvailable"},"columnsKey":{"type":"constant","value":["firstName","lastName","daysAvailableCounter"]},"selectedRow":{"type":"variable"}},"reference":"601c110a-8c1f-486f-af3f-d0ca52e36074","id":"pbTable"}]]},"title":"Vacation available"},{"container":{"type":"container","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"f575b005-8b8f-4c91-a43b-6317cb79fc2e","rows":[[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"headers":{"type":"constant","value":["First name","Last name","Start date","Number of days","Return date","Status"]},"content":{"type":"expression","value":"managerTeamInfo.employeesVacationRequests"},"columnsKey":{"type":"constant","value":["firstName","lastName","startDate | date","numberOfDays","returnDate | date","status"]},"selectedRow":{"type":"variable","value":"teamSelectedRow"}},"reference":"2fecdd1f-159b-40fa-8319-1d9a6d45b7eb","id":"pbTable"}],[{"type":"component","dimension":{"xs":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"teamSelectedRow.status!==\"pending\""},"text":{"type":"interpolation","value":"Review selected vacation request"},"targetUrl":{"type":"expression","value":"'/bonita/portal/form/taskInstance/' + teamSelectedRow.taskId"},"alignment":{"type":"constant","value":"center"},"buttonStyle":{"type":"constant","value":"primary"}},"reference":"8862ee98-4535-4ba6-8f4f-592ba441bcfd","id":"pbLink"}]]},"title":"Vacation requests"}]}]]}]],"assets":[{"id":"0aa136c8-d1b8-4c3f-8666-b44328a56ec5","name":"logo.png","type":"img","order":1,"external":false}],"inactiveAssets":[],"data":{"myVacationAvailable":{"type":"url","value":"../API/bdm/businessData/com.company.model.VacationAvailable?q=findByBonitaBPMId&p=0&c=1&f=bonitaBPMId={{session.user_id}}","exposed":false},"myVacation":{"type":"url","value":"../API/bdm/businessData/com.company.model.VacationRequest?q=findByRequesterBonitaBPMId&p=0&c=100&f=requesterBonitaBPMId={{session.user_id}}","exposed":false},"selectedRow":{"type":"json","value":"{}","exposed":false},"copySelectedRow":{"type":"expression","value":"if($data.selectedRow.original !== null) {\n    $data.selectedRow.copy = angular.copy($data.selectedRow.original);\n    $data.selectedRow.original = null;\n}","exposed":false},"managerTeamInfo":{"type":"url","value":"../API/extension/vacationRequest","exposed":false},"teamSelectedRow":{"type":"json","value":"{}","exposed":false},"session":{"type":"url","value":"../API/system/session/1","exposed":false},"processCreate":{"type":"url","value":"../API/bpm/process?s=New Vacation Request&p=0&c=10&o=version&f=activationState=ENABLED","exposed":false},"urlStartCreateProcess":{"type":"expression","value":"// Return the URL to the new vacation request process\r\n// instantiation form\r\nif ($data.processCreate &&\r\n    $data.processCreate.length > 0) {\r\n  return \"/bonita/portal/resource/process/\" +\r\n    $data.processCreate[$data.processCreate.length-1].name +\r\n    \"/\"+$data.processCreate[$data.processCreate.length-1].version +\r\n    \"/content/?id=\" +\r\n    $data.processCreate[$data.processCreate.length-1].id;\r\n} else {\r\n  return null;\r\n}","exposed":false},"processModify":{"type":"url","value":"../API/bpm/process?s=Modify Pending Vacation Request &p=0&c=10&o=version&f=activationState=ENABLED","exposed":false},"urlStartModifyProcess":{"type":"expression","value":"// Return the API URL to instantiate the modify vacation request\r\n// process\r\nif ($data.processModify  && $data.processModify.length > 0) {\r\n  return \"../API/bpm/process/\" +\r\n    $data.processModify[$data.processModify.length-1].id +\r\n    \"/instantiation\";\r\n} else {\r\n  return null;\r\n}","exposed":false},"processCancel":{"type":"url","value":"../API/bpm/process?s=Cancel Vacation Request&p=0&c=10&o=version&f=activationState=ENABLED","exposed":false},"urlStartCancelProcess":{"type":"expression","value":"// Return the API URL to instantiate the cancel vacation request\r\n// process\r\nif ($data.processCancel  && $data.processCancel.length > 0) {\r\n  return \"../API/bpm/process/\" +\r\n    $data.processCancel[$data.processCancel.length-1].id +\r\n    \"/instantiation\";\r\n} else {\r\n  return null;\r\n}","exposed":false}}}